<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ูพูู ูุบุงุฒูโุฏุงุฑ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>
<body>
    <div id="user-panel" style="display: none;">
        <span id="user-greeting"></span>
        <button id="logout-btn">ุฎุฑูุฌ</button>
    </div>

    <div id="pending-approval-message" style="display: none;"></div>

    <div class="panel-section" id="shop-owner-panel" style="display: none;">
        <h2>ูพูู ูุบุงุฒูโุฏุงุฑ</h2>
        <p>ูุงู ูุฑูุดฺฏุงู: <span id="profile-shop-name"></span></p>
        <p>ูุงู ฺฉุงูู: <span id="profile-full-name"></span></p>
        <p>ฺฉุฏ ูู: <span id="profile-national-id"></span></p>
        <p>ุงูู: <span id="profile-email"></span></p>
        <p>ููุจุงู: <span id="profile-mobile"></span></p>
        <p>ุขุฏุฑุณ: <span id="profile-address"></span></p>
        <p>ฺฉุฏ ูพุณุช: <span id="profile-postal-code"></span></p>
    </div>

    <div class="panel-section">
        <h2>๐ค ูพุฑููุงู ู ุงุทูุงุนุงุช ุชูุงุณ</h2>
        <form id="profile-form">
            <label for="new-shop-name">ูุงู ูุฑูุดฺฏุงู ุฌุฏุฏ:</label>
            <input type="text" id="new-shop-name" name="new-shop-name"><br><br>

            <label for="new-address">ุขุฏุฑุณ ุฌุฏุฏ:</label>
            <input type="text" id="new-address" name="new-address"><br><br>

            <label for="new-postal-code">ฺฉุฏ ูพุณุช ุฌุฏุฏ:</label>
            <input type="text" id="new-postal-code" name="new-postal-code"><br><br>

            <label for="whatsapp">ูุงุชุณโุงูพ (ูุซุงู: 989123456789):</label>
            <input type="text" id="whatsapp" name="whatsapp"><br><br>

            <label for="telegram">ุชูฺฏุฑุงู (ูุซุงู: myusername):</label>
            <input type="text" id="telegram" name="telegram"><br><br>

            <label for="instagram">ุงูุณุชุงฺฏุฑุงู (ูุซุงู: myusername):</label>
            <input type="text" id="instagram" name="instagram"><br><br>

            <label for="eitaa">ุงุชุง (ูุซุงู: myusername):</label>
            <input type="text" id="eitaa" name="eitaa"><br><br>

            <label for="rubika">ุฑูุจฺฉุง (ูุซุงู: myusername):</label>
            <input type="text" id="rubika" name="rubika"><br><br>

            <label for="bale">ุจูู (ูุซุงู: myusername):</label>
            <input type="text" id="bale" name="bale"><br><br>

            <label for="website">ูุจุณุงุช:</label>
            <input type="text" id="website" name="website"><br><br>

            <label>ููฺฉุดู ุฎูุฏ ุฑุง ุฑู ููุดู ูุดุฎุต ฺฉูุฏ:</label>
            <div id="location-map" style="height: 300px;"></div>
            <input type="hidden" id="location-lat" name="location-lat">
            <input type="hidden" id="location-lng" name="location-lng">
            <br><br>

            <label for="new-password">ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ:</label>
            <div class="password-container">
                <input type="password" id="new-password" name="new-password">
                <span onclick="togglePassword('new-password')">๐๏ธ</span>
            </div><br><br>

            <label for="confirm-new-password">ุชุฃุฏ ุฑูุฒ ุนุจูุฑ ุฌุฏุฏ:</label>
            <div class="password-container">
                <input type="password" id="confirm-new-password" name="confirm-new-password">
                <span onclick="togglePassword('confirm-new-password')">๐๏ธ</span>
            </div><br><br>

            <button type="submit">ุจูโุฑูุฒุฑุณุงู ูพุฑููุงู</button>
        </form>
    </div>

    <div class="panel-section">
        <h2>๐ ุงูุฒูุฏู ูุญุตูู</h2>
        <form id="product-form">
            <label for="product-name">ูุงู ูุญุตูู:</label>
            <input type="text" id="product-name" name="product-name" required>

            <label for="product-description">ุชูุถุญุงุช ูุญุตูู:</label>
            <input type="text" id="product-description" name="product-description" required>

            <label for="product-image">ุนฺฉุณ ูุญุตูู (ุงุฎุชุงุฑุ ุญุฏุงฺฉุซุฑ 4MB):</label>
            <div class="file-input-options">
                <select id="product-image-source" name="image-source">
                    <option value="gallery">ุงูุชุฎุงุจ ุงุฒ ฺฏุงูุฑ</option>
                    <option value="camera">ฺฏุฑูุชู ุนฺฉุณ ุจุง ุฏูุฑุจู</option>
                </select>
                <input type="file" id="product-image" name="product-image" accept="image/*">
            </div>

            <label for="product-instagram-link">ููฺฉ ุงูุณุชุงฺฏุฑุงู (ุงุฎุชุงุฑ):</label>
            <input type="text" id="product-instagram-link" name="product-instagram-link">

            <button type="submit">ุงุถุงูู ฺฉุฑุฏู ูุญุตูู</button>
        </form>
    </div>

    <div class="panel-section">
        <h2>๐ ูุณุช ูุญุตููุงุช</h2>
        <ul id="product-list"></ul>
    </div>

    <div id="image-modal" class="modal" style="display: none;">
        <span class="modal-close">&times;</span>
        <img class="modal-content" id="modal-image">
    </div>
    <!-- ... ฺฉุฏูุง ูุจู ... -->
    <div id="messages-section">
        <h3>ูพุงูโูุง ุงุฏูู</h3>
        <ul id="messages-list"></ul>
        <div id="notification" style="color: red;"></div> <!-- ุจุฑุง ุจู/ูุญุฏูุฏุช -->
        <button onclick="editAndResubmit()">ูุฑุงุด ู ุงุฑุณุงู ุฏูุจุงุฑู</button> <!-- ุจุฑุง ุฑุฏ ุดุฏูโูุง -->
    </div>

    <div id="loading-panel" style="display: none;">
        <div>
            <div class="spinner"></div>
            ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด...
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>